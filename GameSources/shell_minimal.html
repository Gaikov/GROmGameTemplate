<!doctype html>
<html lang="en-us">
<head>
  <meta charset="utf-8">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <title>GROm Games</title>
  <style>
    canvas {
      border: 0px none;
      background-color: black;
      position: fixed;
      left: 0;
      top: 0;
    }
  </style>
</head>
<body>
<canvas class="emscripten" id="canvas" oncontextmenu="event.preventDefault()" tabindex=-1></canvas>
<script type='text/javascript'>
  const canvasElement = document.getElementById('canvas');

  // As a default initial behavior, pop up an alert when webgl context is lost. To make your
  // application robust, you may want to override this behavior before shipping!
  // See http://www.khronos.org/registry/webgl/specs/latest/1.0/#5.15.2
  canvasElement.addEventListener("webglcontextlost", (e) => {
    alert('WebGL context lost. You will need to reload the page.');
    e.preventDefault();
  }, false);

  var Module = {
    print(...args) {
      console.log(...args);
    },
    onRuntimeInitialized: () => {
      console.log("onRuntimeInitialized");
      onResize();
    },
    canvas: canvasElement,
  };

  window.onerror = e => {
    console.error(e);
  };

  function onResize() {
    const w = window.innerWidth;
    const h = window.innerHeight;
    console.log("onResize", w, h);
    canvasElement.width = w;
    canvasElement.height = h;
  }

  window.onresize = onResize;
</script>
{{{ SCRIPT }}}
</body>
</html>